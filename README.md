# DNSAmplification
Набор утилит для стресс тестирования DNS Amplification.  
Подробное использование описано в статье [Стресс тестирование с использованием DNS Amplification](https://blackdiver.net/it/linux/4490)

## Системные требования
* Python 2.x.;
* Scapy;
* Linux;
* для утилиты dnsamplification.py - внешний IP адрес без фильтрации и NAT.
## Структура проекта

| Файл/директория | Описание |
| ---------------| -------- |
|dnsamplcheck.py | утилита проверки DNS серверов на возможность DNS Amplification |
|dnsamplification.py | утилита для многопоточной отправки DNS запросов с возможностью спуфинга IP адреса|
|dnsamplscan.py | утилита сканирования сети для поиска уязвимых DNS серверов |
|servers.txt | пример списка серверов и запросов |
| README.md | этот файл |
| LICENSE | лицензия |

## Начало работы
### dnsamplcheck.py
Описание:  
Утилита для проверки DNS сервера на возможность множественных ответов. Принцип проверки: отправка 100 запросов. Отправка контрольного запроса. Если получен ответ и коэффициент усиления не изменился, то сервер подходит.  
Синтаксис:
```
python dnsamplcheck.py [параметры]
```
Параметры:
```
-input - входной файл со списком DNS серверов для проверки (требуется);  
-timeout - время ожидания ответа от DNS сервера (По умолчанию 2 сек.);  
-output - выходной файл со списком проверенных серверов (требуется).  
```
Пример:
```
python dnsamplcheck.py -input servers.txt -output good-servers.txt
```
### dnsamplification.py
Описание:  
Утилита для многопоточного стресс тестирования с использованием DNS amplification.  
Синтаксис:
```
python dnsamplcheck.py [параметры]
```
Параметры:
```
-target - IP адрес тестируемого сервера (требуется);
-servers - файл со списком DNS серверов для усиления (требуется);
-timeout - время тестирования (в секундах) (По умолчанию: 10 сек.);
-threads - количество потоков для отправки DNS запросов (По умолчанию: 10).
```
Пример:
```
python dnsamplification.py -target 192.168.1.2 -servers servers.txt -timeout 100 -threads 20
```
### dnsamplscan.py
Описание:  
Утилита для поиска усиливающих серверов для DNS amplification.  
Синтаксис:
```
python dnsamplcheck.py [параметры]
```
Параметры:
```
-ip - диапазон IP адресов для поиска DNS серверов;
-query - DNS запрос (По умолчанию: .) (требуется);
-querytype - тип DNS запроса (A,MX,PTR и т.д.) (По умолчанию: A);
-timeout - время ожидания ответа от DNS сервера (По умолчанию: 10 сек.);
-aratio - требуемый коэффициент усиления (По умолчанию: 0);
-output - файл со списком найденных серверов (требуется).
```
Пример:
```
python dnsamplscan.py -192.168.0.0/24 -query . -querytype A -timeout 5 -aratio 10 -output servers.txt
```
### Формат файла серверов
Список DNS серверов, передаваемый в файле имеет следующий формат:
```
<адрес сервера> <DNS запрос> <Тип DNS запроса> <коэффициент усиления>
```
Все параметры разделяются пробелами.  
Пример:
```
8.8.8.8 . A 2
```
## Что дальше

Посетите наш сайт, посвященный информационной безопасности.

Команда сайта BlackDiver.Net

[https://BlackDiver.Net](https://blackdiver.net)
